/**
 * Hiệu ứng hoa bay ngang - tối ưu nhưng vẫn đẹp
 */

/* Container chứa hoa bay */
.horizontal-flowers-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 50;
    overflow: hidden;
}

/* Kiểu dáng cơ bản của hoa bay */
.horizontal-flower {
    position: absolute;
    pointer-events: none;
    background-repeat: no-repeat;
    background-size: contain;
    opacity: 0;
    will-change: transform, opacity; /* Tối ưu GPU */
    transform: translateZ(0); /* Kích hoạt GPU acceleration */
}

/* Các loại hoa khác nhau - giữ đủ 6 loại */
.horizontal-flower.type-1 {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 10C58 25 75 35 90 40C75 45 58 55 50 70C42 55 25 45 10 40C25 35 42 25 50 10Z" fill="%23f8a5c2" /></svg>');
}

.horizontal-flower.type-2 {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="20" fill="%23eaabab"/><path d="M50 25C55 40 70 50 85 50C70 50 55 60 50 75C45 60 30 50 15 50C30 50 45 40 50 25Z" fill="%23f8a5c2" /></svg>');
}

.horizontal-flower.type-3 {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 20C60 30 75 30 85 20C75 40 75 55 85 70C60 55 40 55 15 70C25 55 25 40 15 20C25 30 40 30 50 20Z" fill="%23d67e7e" /></svg>');
}

.horizontal-flower.type-4 {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="15" fill="%23ffb6c1"/><path d="M50 20C54 35 65 45 80 50C65 55 54 65 50 80C46 65 35 55 20 50C35 45 46 35 50 20Z" fill="%23ffb6c1" opacity="0.7"/><circle cx="50" cy="50" r="8" fill="%23ffd700"/></svg>');
}

.horizontal-flower.type-5 {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="12" fill="%23ffd700"/><path d="M35 35L25 25M65 35L75 25M35 65L25 75M65 65L75 75M50 30L50 15M70 50L85 50M50 70L50 85M30 50L15 50" stroke="%23ffa07a" stroke-width="4"/></svg>');
}

.horizontal-flower.type-6 {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M30 50C30 30 50 30 50 30C50 30 70 30 70 50C70 70 50 80 50 80C50 80 30 70 30 50Z" fill="%23ff77a9"/><circle cx="50" cy="45" r="8" fill="%23ffec8b"/></svg>');
}

/* Kích thước của hoa */
.horizontal-flower.size-1 {
    width: 15px;
    height: 15px;
}

.horizontal-flower.size-2 {
    width: 25px;
    height: 25px;
}

.horizontal-flower.size-3 {
    width: 35px;
    height: 35px;
}

.horizontal-flower.size-4 {
    width: 45px;
    height: 45px;
}

.horizontal-flower.size-5 {
    width: 55px;
    height: 55px;
}

/* Animation classes được định nghĩa trước */
.fly-normal {
    animation: fly-horizontal-flower 8s linear forwards;
}

.fly-zigzag {
    animation: fly-horizontal-zigzag 8s linear forwards;
}

.fly-wave {
    animation: fly-horizontal-wave 9s ease-in-out forwards;
}

/* Hiệu ứng ánh sáng */
.with-glow {
    filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.7));
}

/* Animation chính cho hoa bay */
@keyframes fly-horizontal-flower {
    0% {
        left: -50px;
        transform: translateY(0) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
        transform: translateY(var(--wave-y-start, 0))
            rotate(var(--rotation-start, 0deg));
    }
    50% {
        transform: translateY(var(--wave-y-mid, 20px))
            rotate(var(--rotation-mid, 180deg));
    }
    90% {
        opacity: 0.8;
    }
    100% {
        left: 120%;
        transform: translateY(var(--wave-y, 0)) rotate(var(--rotation, 360deg));
        opacity: 0;
    }
}

/* Animation zigzag */
@keyframes fly-horizontal-zigzag {
    0% {
        left: -50px;
        transform: translateY(0) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
        transform: translateY(var(--zig1, 20px)) rotate(var(--rot1, 30deg));
    }
    30% {
        transform: translateY(var(--zag1, -20px)) rotate(var(--rot2, 60deg));
    }
    50% {
        transform: translateY(var(--zig2, 20px)) rotate(var(--rot3, 180deg));
    }
    70% {
        transform: translateY(var(--zag2, -20px)) rotate(var(--rot4, 270deg));
    }
    90% {
        opacity: 0.8;
    }
    100% {
        left: 120%;
        transform: translateY(var(--zig3, 0)) rotate(var(--rot5, 360deg));
        opacity: 0;
    }
}

/* Animation sóng nhẹ nhàng */
@keyframes fly-horizontal-wave {
    0% {
        left: -50px;
        transform: translateY(0) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
    }
    25% {
        transform: translateY(20px) rotate(90deg);
    }
    50% {
        transform: translateY(-20px) rotate(180deg);
    }
    75% {
        transform: translateY(20px) rotate(270deg);
    }
    90% {
        opacity: 0.8;
    }
    100% {
        left: 120%;
        transform: translateY(0) rotate(360deg);
        opacity: 0;
    }
}

/* Các hiệu ứng phụ - định nghĩa thành class */
.floating {
    animation: floating 3s ease-in-out infinite;
}

@keyframes floating {
    0%,
    100% {
        margin-top: 0;
    }
    50% {
        margin-top: -10px;
    }
}

.spinning {
    animation: spinning 4s linear infinite;
}

@keyframes spinning {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.pulsing {
    animation: pulsing 2s ease-in-out infinite;
}

@keyframes pulsing {
    0%,
    100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
    }
}

.butterfly {
    animation: butterfly-wings 0.8s ease-in-out infinite alternate;
}

@keyframes butterfly-wings {
    0% {
        transform: scaleX(1);
    }
    100% {
        transform: scaleX(0.8);
    }
}
